<!DOCTYPE html>
<html>
<head>
    <title>Happy Birthday!</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Lato&display=swap');

        body {
            margin: 25px;
            padding-top: 100px;
            text-align: center;
            /*font-size: 20;*/
            font-family: 'Lato', sans-serif;
            background-color: rgba(235, 228, 212, 0.815)
        }

        button {
            width: 20%;
            height: 80px;
            font-size: 19px;
            font-family: 'Lato', sans-serif;
            background-color: rgb(10, 10, 10);
            color: white;
        }

        p {
            font-size: 24px;
          
        }

    </style>
</head>
<body>
    <div>
        <button onclick="chainIt(bday, 3, length=300)">Open Birthday Card</button>
    </div>

    <div>
        <p id="card"></p>
    </div>
    
    <script>
        bday = "Happy, Happy Birthday, Jay!  I hope you get to do something fun to celebrate!  You deserve everything happy. Wishing you that all year long!  Jay, hope you have a happy birthday!  Happy Birthday to a strong and brilliant daughter who will turn the world around!  Jay, Warmest wishes for a happy birthday. Hope today’s filled with all your favorite guilty pleasures!  Jay, hope you make this a birthday to remember!  Go forth from this birthday and prosper in your ukulele playing! Hi! Jay, you are living your best life!  And this year it really shows. Another year older, and you just keep getting stronger, wiser, funnier and more amazing!  Jay, Happy Birthday to one of my favorite people in the history of ever. Jay, thanks for being here, for being you. Warmest wishes and love on your birthday and always!  I see you out here looking like time is standing still!  Happy Birthday. Be safe, have fun, take pictures, and enjoy every minute of this exciting time in your life!  Jay, so grateful God put you on this earth and in my life. Wishing you a happy birthday and a year that’s blessed. Keep vibin’ and thrivin’, Queen!  Here’s to another blessed birthday. #Slaying!  On your birthday and every other day, too. Happy Birthday, Beauty. You’re gonna win it all this year!  Knock em’ dead, broseph!  I can’t believe you’re so old now!  I remember when you were in diapers!  Thank you for still being alive!  Your birth is one that I will never forget. Happy birthday to you!  Happy birthday dear Jay!  How old are you now?  God bless you today. God Bless you always. God bless you dear Jay. God bless you we pray. Blow out the candles!  Don’t forget to make a wish!  Hoping your birthday is lit. Wishing you all the cherished memories. I wouldn’t miss this for the world!  Let’s get together to celebrate you. I can’t wait to see you again. For Jay’s a jolly good fellow!   Truckboy Dinosaurs!  Presents?  Did you get everything you wanted?  Is it the right size?  We kept the receipts Ouch!  What a beautiful cake!  Do you want the corner slice?  Have a good time! Keep on drummin' and keep on truckin' all the way! Boom tsss bop! Jazz! Way to live life by the beat of your own drum! Keep it in the pocket cool cat! Thank you for lending me your snare stand."
        bday += ' the'

        function chainIt(txt, n=3, length=300) {
            let ngrams = {}
            txt = txt.toLowerCase()
            for (let i=0; i<txt.length-n; i++) {
                let gram = txt.substring(i, i+n)
                if (!Object.keys(ngrams).includes(gram)) {
                    ngrams[gram] = [];
                }
                ngrams[gram].push(txt[i+n])
            }


            let startString = Object.keys(ngrams)[Math.floor(Math.random()*Object.keys(ngrams).length)]
            let out = startString

            for (let i=0; i<length; i++) {
                let searchString = out.substring(out.length-n, out.length+1)
                let nxt_options = ngrams[searchString]
                let nxt_i = Math.floor(Math.random()*nxt_options.length)
                out += nxt_options[nxt_i]
            }
            out = out.split('!')
            out = out.join('! <br>')
            out = out.split('.')
            out = out.join('. <br>')
            out = out.split('?')
            out = out.join('? <br>')

            let card = document.getElementById("card")
            card.innerHTML = out
        }
        
    </script>
</body>
</html>
